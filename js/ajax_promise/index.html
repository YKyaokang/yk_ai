<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 请求</title>
   
</head>
<body>
    <ul id="repos"></ul>
     <script>
        // 阻塞
        // window.onload 有点晚 
    document.addEventListener('DOMContentLoaded',async ()=>{
        // 同步代码一样
        // await promise实例 fetch本质是 返回 promise 实例
        // pending 状态 等待
        
        console.log(fetch('https://api.github.com/users/shunwuyu/repos'))
        // resolve() fullfilled 完成了
        // reject() reject 失败
        const result = await fetch('https://api.github.com/users/shunwuyu/repos');
        const data = await result.json();
        document.getElementById('repos').innerHTML = data.map(item => `
        <li>${item.name}</li>
        `).join('');
        
    })
    </script>
</body>
</html>