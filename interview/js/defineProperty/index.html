<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>响应式</title>
</head>
<body>
<div id="container">1</div>
<button id="button" type="button">点击加一</button>
<button id="loginBtn" type="button">登录</button>
<script>
    // js dom api 
    // 不利于业务 性能不好
    // document.getElementById('button').addEventListener('click',function() {
    //     var container = document.getElementById('container');
    //     // 显式类型转换
    //     container.innerHTML = Number(container.innerHTML) + 1;
        
    // })
    // 响应式开发 数据状态 MVVM 数据驱动视图 
    // 当数据状态发生改变 数据绑定的地方会自动更新
    // MVVM Model count View # container VM JSX
    
    // 1. 状态
    // 定义对象来实现 define
    var obj = {
        // 监听这个状态的改变
        value: 1, // 数据 响应式？状态呢？ 
        isLogin: false  // 数据状态
    }
    // 定义一个对象的属性
    let value = 1;
    let isLogin = false;
    // defineProperty 定义一个对象的属性的某些底层行为
    Object.defineProperty(obj, "value",{
        // 定义obj 上的value 属性，有些什么样的操作
        get: function() {   
            console.log('读取了value属性')
            return value;
        },
        // set 拦截 
        set: function(newValue) {
            value = newValue;
            document.getElementById('container').innerHTML = newValue;
        }
    })
    // 一次只能定义一个Property
    Object.defineProperty(obj,'isLogin',{
        get: function() {
            console.log('正在读取isLogin属性')
            return isLogin;
        },
        set: function(newValue) {
            isLogin = newValue
        }

    })

    
    document.getElementById('button').addEventListener('click',function(){
        obj.value = obj.value + 1;
    })
    document.getElementById('loginBtn').addEventListener('click',function(){
        obj.isLogin = !obj.isLogin;
    })
</script>
</body>
</html>